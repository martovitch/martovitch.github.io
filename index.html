<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–∞: –î–∏–∑–∞–π–Ω –∏ –ó–∞—Ä–∞–±–æ—Ç–æ–∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è body */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000; /* –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω */
            display: flex;
            flex-direction: column; /* –≠–ª–µ–º–µ–Ω—Ç—ã –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            box-sizing: border-box;
            position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ–≥–Ω—è */
            transition: background-color 0.1s ease-out; /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è —Ñ–æ–Ω–∞ */
            overflow: hidden; /* –°–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Å–∫—Ä–æ–ª–ª, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–Ω—é */
        }

        /* --- –ú–µ–Ω—é (–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É) --- */
        .side-menu {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 90vh; /* –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ */
            /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–µ–Ω—é –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–æ —Å–Ω–∏–∑—É */
            transform: translateY(100%);
            transition: transform 0.5s ease-out; /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
            z-index: 1100; /* –í—ã—à–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è, –Ω–æ –Ω–∏–∂–µ –æ–≤–µ—Ä–ª–µ—è –º–µ–Ω—é */
            display: flex;
            flex-direction: column;
            border-top-left-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–∏—Ö —É–≥–ª–æ–≤ */
            border-top-right-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–∏—Ö —É–≥–ª–æ–≤ */
            background-color: #ffffff; /* –§–æ–Ω –º–µ–Ω—é */
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.25); /* –¢–µ–Ω—å —Å–≤–µ—Ä—Ö—É */
            padding-bottom: 2rem; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞–µ–º padding */
        }

        /* –ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è JS, –∫–æ–≥–¥–∞ –º–µ–Ω—é –æ—Ç–∫—Ä—ã—Ç–æ */
        html.menu-open .side-menu {
            transform: translateY(0%); /* –í—ã–¥–≤–∏–≥–∞–µ—Ç—Å—è, –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å –Ω–∞ –º–µ—Å—Ç–æ */
        }

        /* --- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ–Ω—é --- */
        .menu-content {
            flex-grow: 1; /* –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –∑–∞–Ω–∏–º–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
            padding: 0 1.5rem; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
            overflow-y: auto; /* –î–æ–±–∞–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –º–Ω–æ–≥–æ */
            max-height: 100%; /* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–æ–¥–∏—Ç–µ–ª—è */
            box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞–µ–º padding */
            /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
            scrollbar-width: thin; /* Firefox */
            scrollbar-color: #888 #f1f1f1; /* Firefox */
        }

        /* Webkit browsers (Chrome, Safari) */
        .menu-content::-webkit-scrollbar {
            width: 8px; /* –®–∏—Ä–∏–Ω–∞ –ø–æ–ª–æ—Å—ã –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        }

        .menu-content::-webkit-scrollbar-track {
            background: #f1f1f1; /* –¶–≤–µ—Ç –¥–æ—Ä–æ–∂–∫–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
            border-radius: 10px;
        }

        .menu-content::-webkit-scrollbar-thumb {
            background: #888; /* –¶–≤–µ—Ç –ø–æ–ª–∑—É–Ω–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
            border-radius: 10px;
        }

        .menu-content::-webkit-scrollbar-thumb:hover {
            background: #555; /* –¶–≤–µ—Ç –ø–æ–ª–∑—É–Ω–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        .achievement-display {
            margin-top: 1rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            padding: 0;
        }

        .achievement-display h3 {
            font-size: 1rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 0.75rem;
            text-align: center;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
        .achievement-item {
            background-color: #e2e8f0;
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .achievement-item .achievement-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .achievement-item .achievement-text {
            font-size: 0.95rem;
            color: #4a5568;
            line-height: 1.4;
            margin: 0;
        }

        .achievement-display .no-achievements {
            text-align: center;
            color: #718096;
            font-style: italic;
            padding: 1rem;
        }

        /* --- –ù–∞–ª–æ–∂–µ–Ω–∏–µ –º–µ–Ω—é (–¥–ª—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è —Ñ–æ–Ω–∞) --- */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
            z-index: 1050; /* –ú–µ–∂–¥—É –∏–≥—Ä–æ–≤—ã–º –ø–æ–ª–µ–º –∏ –º–µ–Ω—é */
        }

        html.menu-open .menu-overlay {
            opacity: 1;
            visibility: visible;
        }

        /* --- –û–±–æ–ª–æ—á–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞) --- */
        .game-content-wrapper {
            transition: transform 0.5s ease-out, opacity 0.5s ease-out, filter 0.5s ease-out, border-radius 0.5s ease-out; /* –î–æ–±–∞–≤–ª–µ–Ω border-radius –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ */
            width: calc(100% - 32px); /* –£—á–∏—Ç—ã–≤–∞–µ–º padding body */
            height: calc(100vh - 32px); /* –£—á–∏—Ç—ã–≤–∞–µ–º padding body */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: absolute; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º absolute –¥–ª—è –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ */
            top: 16px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
            left: 16px; /* –û—Ç—Å—Ç—É–ø —Å–ª–µ–≤–∞ */
            box-sizing: border-box;
            background-color: #000000; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è */
            border-radius: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –±–µ–∑ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–∏–π */
            will-change: transform, opacity, filter, border-radius; /* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
            z-index: 100; /* –ù–∏–∂–µ –º–µ–Ω—é –∏ –æ–≤–µ—Ä–ª–µ—è */
        }
        /* –ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è JS, –∫–æ–≥–¥–∞ –º–µ–Ω—é –æ—Ç–∫—Ä—ã—Ç–æ */
        html.menu-open .game-content-wrapper {
            transform: translateY(-5vh) scale(0.9); /* –°–¥–≤–∏–≥ –≤–≤–µ—Ä—Ö –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ */
            opacity: 0.7; /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
            filter: blur(2px); /* –ù–µ–±–æ–ª—å—à–æ–µ —Ä–∞–∑–º—ã—Ç–∏–µ */
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ */
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); /* –¢–µ–Ω—å */
        }

        /* --- –†—É—á–∫–∞ –º–µ–Ω—é (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞) --- */
        .menu-handle {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px; /* –®–∏—Ä–∏–Ω–∞ —Ä—É—á–∫–∏ */
            height: 40px; /* –í—ã—Å–æ—Ç–∞ —Ä—É—á–∫–∏ */
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1200; /* –í—ã—à–µ –≤—Å–µ–≥–æ */
            background-color: #ffffff; /* –§–æ–Ω —Ä—É—á–∫–∏ */
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out, background-color 0.3s ease-in-out;
        }

        .menu-handle-arrow {
            /* –≠—Ç–∏ —Å—Ç–∏–ª–∏ —Ç–µ–ø–µ—Ä—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ span –ø—É—Å—Ç–æ–π */
            font-size: 1.5rem; 
            color: #4a5568; 
            transition: none; 
        }
        
        /* --- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å–≤–∞–π–ø–∞ --- */
        .swipe-up-hint {
            position: fixed;
            bottom: 0; /* –ë–∞–∑–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
            left: 50%;
            transform: translateX(-50%) translateY(100%); /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–æ (–≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞), –∫–∞–∫ personality-motivation */
            transition: transform 0.5s ease-out, opacity 0.5s ease-out; /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è/—Å–∫—Ä—ã—Ç–∏—è */
            z-index: 95;
            color: #4a5568;
            font-size: 1rem;
            font-weight: 500;
            pointer-events: none; /* –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–µ */
            opacity: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ */
            padding: 8px 16px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã */
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã */
            background-color: rgba(255, 255, 255, 0.7); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç */
            box-sizing: border-box;
            width: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É —Ä–æ–¥–∏—Ç–µ–ª—è –¥–ª—è –æ—Ç—Å—Ç—É–ø–æ–≤ */
            max-width: 480px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤, –∫–∞–∫ —É –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏–π */
            padding-bottom: 80px; /* –û—Ç—Å—Ç—É–ø —Ç–µ–∫—Å—Ç–∞ –æ—Ç –Ω–∏–∂–Ω–µ–≥–æ –∫—Ä–∞—è —ç–ª–µ–º–µ–Ω—Ç–∞ */
        }

        /* –ö–ª–∞—Å—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
        .swipe-up-hint.show {
            transform: translateX(-50%) translateY(0%); /* –í—ã–µ–∑–∂–∞–µ—Ç –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å */
            opacity: 1; /* –°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∏–¥–∏–º—ã–º */
        }

        /* –ö–ª–∞—Å—Å –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–∫—Ä—ã—Ç–∏—è, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–Ω–∏–º–∞—Ç—å –º–µ—Å—Ç–æ */
        .hidden {
            display: none !important;
        }

        /* –ö–æ–≥–¥–∞ –º–µ–Ω—é –æ—Ç–∫—Ä—ã—Ç–æ, –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π */
        html.menu-open .swipe-up-hint {
            transform: translateX(-50%) translateY(100%) !important; /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–∫—Ä—ã–≤–∞–µ–º –≤–Ω–∏–∑ */
            opacity: 0 !important; /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞–µ–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º */
        }

        /* --- –ë—É—Ä–≥–µ—Ä-–∏–∫–æ–Ω–∫–∞ (–±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) --- */
        .menu-toggle {
            display: none;
        }

        /* --- –°—Ç–∏–ª–∏ –¥–ª—è –∫—Ä—É–≥–ª–æ–π –∫–Ω–æ–ø–∫–∏ --- */
        .click-button {
            background-color: #ffffff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç */
            color: #000000; /* –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
            font-weight: bold;
            display: flex; /* –ò—Å–ø–æ–ª—å–∑—É–µ–º flexbox –¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
            justify-content: center;
            align-items: center;
            width: 200px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            height: 200px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
            border-radius: 9999px; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –∫—Ä—É–≥–ª–∞—è */
            box-shadow: none; /* –£–±–∏—Ä–∞–µ–º —Ç–µ–Ω—å */
            font-size: 2.25rem; /* –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            line-height: 2.5rem;
            cursor: pointer;
            /* –î–æ–±–∞–≤–ª–µ–Ω–æ transform –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω transition */
            transform: scale(var(--button-scale, 1)); 
            transition: transform 0.3s ease-out, background-color 0.1s ease-in-out, border-radius 0.3s ease-out; /* –î–æ–±–∞–≤–∏–ª–∏ transition –¥–ª—è border-radius */
            margin: 0 auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É */
            flex-shrink: 0; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ */
            z-index: 10; /* –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ –ø–æ–≤–µ—Ä—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ–≥–Ω—è */
            position: relative; /* –î–ª—è z-index */
        }
        .click-button:hover {
            background-color: #f0f0f0; /* –ß—É—Ç—å —Ç–µ–º–Ω–µ–µ –±–µ–ª—ã–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
        .click-button:active {
            transform: scale(0.95); /* –ù–µ–±–æ–ª—å—à–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Android-style toast) */
        .notification-toast {
            position: fixed; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ */
            top: 20px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è */
            left: 50%; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ */
            transform: translateX(-50%); /* –¢–æ—á–Ω–æ–µ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
            width: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É, —É—á–∏—Ç—ã–≤–∞—è padding */
            max-width: 480px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–∞–∫ —É –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏–π */
            box-sizing: border-box; /* –í–∫–ª—é—á–∞–µ–º padding –≤ —à–∏—Ä–∏–Ω—É */
            padding: 0 20px; /* –û—Ç—Å—Ç—É–ø—ã –æ—Ç –ª–µ–≤–æ–≥–æ –∏ –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è —ç–∫—Ä–∞–Ω–∞ */
            opacity: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–æ */
            visibility: hidden; /* –°–∫—Ä—ã—Ç–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ */
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
            z-index: 1000; /* –ü–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        }

        .notification-toast.show {
            opacity: 1;
            visibility: visible;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification-content {
            background-color: rgba(0, 0, 0, 0.7); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —á–µ—Ä–Ω—ã–π —Ñ–æ–Ω */
            color: white;
            padding: 12px 20px; /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è —Ç–µ–∫—Å—Ç–∞, —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è–º–∏ */
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ 20px */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 1rem; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
            text-align: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ */
            white-space: normal; /* –†–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ */
            width: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É —Ä–æ–¥–∏—Ç–µ–ª—è */
            box-sizing: border-box; /* –í–∫–ª—é—á–∞–µ–º padding –≤ —à–∏—Ä–∏–Ω—É */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –±–µ–ª–æ–≥–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∫–ª–∏–∫–µ */
        .fire-effect {
            position: fixed; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ */
            top: 0;
            left: 0;
            width: 100vw; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —à–∏—Ä–∏–Ω—É –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
            height: 100vh; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –≤—ã—Å–æ—Ç—É –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
            background-color: rgba(255, 255, 255, 0); /* –ë–µ–ª—ã–π, –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π */
            opacity: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–æ */
            transition: background-color 0.1s ease-out, opacity 0.1s ease-out; /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –¥–ª—è opacity */
            pointer-events: none; /* –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–µ */
            z-index: 5; /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –º–µ–∂–¥—É —Ñ–æ–Ω–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π/—Å—á–µ—Ç—á–∏–∫–æ–º */
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ—è–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–µ–π –∏ –ø—É–∑—ã—Ä—è —Ä–µ—á–∏ */
        .personality-motivation {
            position: fixed;
            bottom: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞, –∑–∞ –µ–≥–æ –ø—Ä–µ–¥–µ–ª–∞–º–∏ */
            left: 50%;
            transform: translateX(-50%) translateY(100%); /* –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–º–µ—â–∞–µ–º –∑–∞ –Ω–∏–∂–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É */
            transition: transform 0.5s ease-out; /* –ü–ª–∞–≤–Ω–æ–µ –≤—ã–µ–∑–∂–∞–Ω–∏–µ */
            z-index: 900; /* –ü–æ–≤–µ—Ä—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ–≥–Ω—è, –Ω–æ –ø–æ–¥ —Ç–æ—Å—Ç–æ–º-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º */
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-bottom: 80px; /* –û—Ç—Å—Ç—É–ø –æ—Ç —Å–∞–º–æ–≥–æ –Ω–∏–∑–∞ —ç–∫—Ä–∞–Ω–∞ */
            /* –î–æ–±–∞–≤–ª–µ–Ω—ã –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            padding-left: 20px;
            padding-right: 20px;
            box-sizing: border-box; /* –£—á–∏—Ç—ã–≤–∞–µ–º padding –≤ —Ä–∞–∑–º–µ—Ä–µ */
            width: 100%; /* –ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–Ω–∏–º–∞–ª –≤—Å—é —à–∏—Ä–∏–Ω—É –∏ –æ—Ç—Å—Ç—É–ø—ã —Ä–∞–±–æ—Ç–∞–ª–∏ */
            max-width: 480px; /* –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤ */
        }

        .personality-motivation.show {
            transform: translateX(-50%) translateY(0%); /* –í—ã–µ–∑–∂–∞–µ—Ç –≤ –≤–∏–¥–∏–º—É—é –æ–±–ª–∞—Å—Ç—å */
        }

        .personality-icon {
            font-size: 1.5rem; /* –≠–º–æ–¥–∑–∏ –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ (–±—ã–ª–æ 3rem) */
            margin-bottom: 10px;
        }

        .speech-bubble {
            background-color: rgba(0, 0, 0, 0.75); /* –¢–µ–º–Ω—ã–π –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
            color: white;
            padding: 12px 20px;
            border-radius: 20px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏–µ 20px */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* –ù–µ–±–æ–ª—å—à–∞—è —Ç–µ–Ω—å */
            font-size: 1rem; /* –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –≤—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏–π —Ç–µ–ø–µ—Ä—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ */
            /* –£–±—Ä–∞–Ω–æ max-width, —á—Ç–æ–±—ã –æ–Ω –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–ª—Å—è –ø–æ–¥ —à–∏—Ä–∏–Ω—É —Ä–æ–¥–∏—Ç–µ–ª—è */
            width: 100%; /* –ó–∞–Ω–∏–º–∞–µ—Ç 100% —à–∏—Ä–∏–Ω—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (—Å —É—á–µ—Ç–æ–º –µ–≥–æ padding) */
            text-align: center;
            position: relative;
        }

        /* --- –°—Ç–∏–ª–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–Ω—É—Å–∞ --- */
        .bonus-visual {
            position: absolute;
            padding: 10px 15px;
            background-color: #ffd700; /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç –¥–ª—è –±–æ–Ω—É—Å–∞ */
            color: #4a5568;
            font-weight: bold;
            font-size: 1.2rem;
            white-space: nowrap;
            opacity: 1;
            animation: bonusFade 5s forwards; /* –ê–Ω–∏–º–∞—Ü–∏—è, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 5 —Å–µ–∫—É–Ω–¥ */
            z-index: 1005; /* –í—ã—à–µ –≤—Å–µ–≥–æ, –∫—Ä–æ–º–µ –º–µ–Ω—é */
            pointer-events: none; /* –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∫–ª–∏–∫–∏ */
            display: flex; /* –î–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
            justify-content: center;
            align-items: center;
            clip-path: none; 
            border-radius: 9999px; /* –î–µ–ª–∞–µ–º –µ–≥–æ –æ–≤–∞–ª—å–Ω—ã–º, –∫–∞–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
            box-shadow: 0 0 5px rgba(255, 215, 0, 0.8); /* –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è */
            min-width: 100px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            min-height: 50px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –±–æ–Ω—É—Å–∞: –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ */
        @keyframes bonusFade {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(var(--random-rotation, 0deg));
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -100%) scale(1.2) rotate(var(--random-rotation, 0deg)); /* –î–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö –∏ –Ω–µ–±–æ–ª—å—à–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ */
            }
        }
    </style>
</head>
<body>
    <!-- Canvas –¥–ª—è —Ñ–∏–≥—É—Ä -->
    <canvas id="shapesCanvas" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 1090; pointer-events: none;"></canvas>

    <!-- –û–±–æ–ª–æ—á–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–¥–≤–∏–≥–∞—Ç—å—Å—è -->
    <div id="gameContentWrapper" class="game-content-wrapper">
        <!-- –°—á–µ—Ç –∫–ª–∏–∫–æ–≤ —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏ -->
        <button id="clickButton" class="click-button">
            <span id="score" class="font-extrabold">0 ‚ÇΩ</span>
        </button>

        <!-- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –±–µ–ª–æ–≥–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∫–ª–∏–∫–µ -->
        <div id="fireEffect" class="fire-effect"></div>

        <!-- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
        <div id="notificationToast" class="notification-toast">
            <!-- –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ JS -->
        </div>

        <!-- –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –µ–µ —Ä–µ—á–∏ -->
        <div id="personalityMotivation" class="personality-motivation">
            <div id="personalityIcon" class="personality-icon"></div>
            <div id="personalitySpeechBubble" class="speech-bubble"></div>
        </div>

        <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Å–≤–∞–π–ø–∞ -->
        <div id="swipeUpHint" class="swipe-up-hint hidden">–°–≤–∞–π–ø–Ω–∏ –≤–≤–µ—Ä—Ö, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
    </div>

    <!-- –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é (—Ç–µ–ø–µ—Ä—å –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É) -->
    <div id="sideMenu" class="side-menu">
        <div class="menu-content">
            <div id="achievementDisplay" class="achievement-display">
                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é -->
            </div>
        </div>
    </div>

    <!-- –ù–∞–ª–æ–∂–µ–Ω–∏–µ –º–µ–Ω—é (–¥–ª—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è —Ñ–æ–Ω–∞) -->
    <div id="menuOverlay" class="menu-overlay"></div>

    <!-- –†—É—á–∫–∞ –º–µ–Ω—é (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞) -->
    <div id="menuHandle" class="menu-handle">
        <span id="menuHandleArrow" class="menu-handle-arrow"></span> <!-- –°—Ç—Ä–µ–ª–∫–∞ —É–±—Ä–∞–Ω–∞ -->
    </div>

    <script>
        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã DOM
        const html = document.documentElement;
        const scoreDisplay = document.getElementById('score');
        const clickButton = document.getElementById('clickButton');
        const notificationToast = document.getElementById('notificationToast');
        const fireEffect = document.getElementById('fireEffect');
        const personalityMotivation = document.getElementById('personalityMotivation');
        const personalityIcon = document.getElementById('personalityIcon');
        const personalitySpeechBubble = document.getElementById('personalitySpeechBubble');

        // –≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é
        const sideMenu = document.getElementById('sideMenu');
        const menuHandle = document.getElementById('menuHandle');
        const menuHandleArrow = document.getElementById('menuHandleArrow'); 
        const menuOverlay = document.getElementById('menuOverlay');
        const gameContentWrapper = document.getElementById('gameContentWrapper');
        const achievementDisplay = document.getElementById('achievementDisplay');
        const swipeUpHint = document.getElementById('swipeUpHint');

        // Canvas –¥–ª—è —Ñ–∏–≥—É—Ä
        const shapesCanvas = document.getElementById('shapesCanvas');
        const shapesCtx = shapesCanvas.getContext('2d');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—á–µ—Ç
        let score = 0;

        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ –∫–ª–∏–∫–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∞
        let clickIntensity = 0;
        const INTENSITY_INCREASE_PER_CLICK = 0.1;
        const INTENSITY_DECAY_RATE = 0.005;
        const MAX_INTENSITY = 1;

        // –ü–æ—Ä–æ–≥–∏ –¥–ª—è –Ω–∞–≥—Ä–∞–¥ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
        const rewards = [
            { threshold: 10, message: '–ü–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑ –Ω–∞ 10 ‚ÇΩ! –û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.' },
            { threshold: 50, message: '50 ‚ÇΩ! –í–∞—à –¥–∏–∑–∞–π–Ω –ø—Ä–æ–¥–∞–µ—Ç—Å—è! –ö–ª–∏–µ–Ω—Ç—ã —Ü–µ–Ω—è—Ç –≤–∞—à—É —Ä–∞–±–æ—Ç—É.' },
            { threshold: 100, message: '100 ‚ÇΩ! –í—ã –∑–∞–∫—Ä—ã–ª–∏ –ø–µ—Ä–≤—ã–π –∫—Ä—É–ø–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!' },
            { threshold: 200, message: '200 ‚ÇΩ! –ó–∞—Ä–∞–±–æ—Ç–æ–∫ —Ä–∞—Å—Ç–µ—Ç! –í—Ä–µ–º—è –ø–æ–¥—É–º–∞—Ç—å –æ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö.' },
            { threshold: 500, message: '500 ‚ÇΩ! –í—ã - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä. –î–∏–∑–∞–π–Ω - —ç—Ç–æ –≤–∞—à–∞ —Å—Ç–∏—Ö–∏—è!' },
            { threshold: 1000, message: '1 000 ‚ÇΩ! –û—Ç–ª–∏—á–Ω—ã–π –¥–æ—Ö–æ–¥ –∑–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å. –ü–æ–¥—É–º–∞–π—Ç–µ –æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏.' },
            { threshold: 2000, message: '2 000 ‚ÇΩ! –ó–∞–∫–∞–∑—á–∏–∫–∏ –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ! –í–∞—à–∏ –Ω–∞–≤—ã–∫–∏ ‚Äî –≤–∞—à–∞ –ø—Ä–∏–±—ã–ª—å.' },
            { threshold: 5000, message: '5 000 ‚ÇΩ! –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã —Å—Ç–∞–ª–∏ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–µ—Ä–æ–º!' },
            { threshold: 10000, message: '10 000 ‚ÇΩ! –í–∞—à –±—Ä–µ–Ω–¥ —É–∑–Ω–∞—é—Ç. –ó–∞–∫–∞–∑—ã —Å—ã–ø—è—Ç—Å—è –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º.' },
            { threshold: 25000, message: '25 000 ‚ÇΩ! –í—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å–≤–æ–µ–π –¥–∏–∑–∞–π–Ω-–∏–º–ø–µ—Ä–∏–µ–π!' },
            { threshold: 50000, message: '50 000 ‚ÇΩ! –í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –≥—É—Ä—É –¥–∏–∑–∞–π–Ω–∞ –∏ –±–∏–∑–Ω–µ—Å–∞!' }
        ];

        // –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—Ä–∞–∑—ã –∏ –∏–∫–æ–Ω–∫–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª–∏—á–Ω–æ—Å—Ç–µ–π (—Ç–µ–ø–µ—Ä—å –¥–∏–∑–∞–π–Ω–µ—Ä—ã/–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–∏)
        const personalities = [
            { icon: 'üé®', phrases: [ // –ò–∫–æ–Ω–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã –¥–ª—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏
                '–ö–∞–∂–¥—ã–π –≤–∞—à –∫–ª–∏–∫ ‚Äî —ç—Ç–æ –º–∞–∑–æ–∫ –Ω–∞ —Ö–æ–ª—Å—Ç–µ –≤–∞—à–µ–≥–æ —É—Å–ø–µ—Ö–∞.',
                '–î–∏–∑–∞–π–Ω ‚Äì —ç—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ —Ç—ã –≤–∏–¥–∏—à—å, –∞ —Ç–æ, —á—Ç–æ —Ç—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –¥—Ä—É–≥–∏—Ö –≤–∏–¥–µ—Ç—å.',
                '–ù–∞—á–Ω–∏—Ç–µ —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞, –∞ –∑–∞–∫–æ–Ω—á–∏—Ç–µ —à–µ–¥–µ–≤—Ä–æ–º. –ü—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω–∏—Ç–µ!',
                '–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–∞–ª–∞–Ω—Ç, –∞ —Å–ø–æ—Å–æ–± –æ–ø–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–ª–∏–∫–∞–π—Ç–µ —Å –∏–¥–µ—è–º–∏!',
                '–õ—É—á—à–∏–π –¥–∏–∑–∞–π–Ω –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω. –í–æ–∑–º–æ–∂–Ω–æ, –æ–Ω —Ä–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, —Å –∫–∞–∂–¥—ã–º –∫–ª–∏–∫–æ–º.'
            ]},
            { icon: 'üíº', phrases: [ // –ò–∫–æ–Ω–∫–∞ –ø–æ—Ä—Ç—Ñ–µ–ª—è –¥–ª—è –±–∏–∑–Ω–µ—Å–∞/–∑–∞—Ä–∞–±–æ—Ç–∫–∞
                '–í—Ä–µ–º—è ‚Äî –¥–µ–Ω—å–≥–∏. –ö–∞–∂–¥—ã–π –≤–∞—à –∫–ª–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–∞—à –∫–∞–ø–∏—Ç–∞–ª.',
                '–ù–µ –±–æ–π—Ç–µ—Å—å —Ä–∏—Å–∫–æ–≤–∞—Ç—å –≤ –¥–∏–∑–∞–π–Ω–µ, –±–æ–π—Ç–µ—Å—å –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –Ω–æ–≤–æ–≥–æ.',
                '–£—Å–ø–µ—Ö –≤ –±–∏–∑–Ω–µ—Å–µ –∏ –¥–∏–∑–∞–π–Ω–µ ‚Äî —ç—Ç–æ 1% –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –∏ 99% –∫–ª–∏–∫–æ–≤.',
                '–í–∞—à–∞ –ø—Ä–∏–±—ã–ª—å ‚Äî —ç—Ç–æ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ —Ç—Ä—É–¥–∞ –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏.',
                '–î–µ–Ω—å–≥–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫ —Ç–µ–º, –∫—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å!'
            ]},
            { icon: 'üí°', phrases: [ // –ò–∫–æ–Ω–∫–∞ –ª–∞–º–ø–æ—á–∫–∏ –¥–ª—è –∏–¥–µ–π
                '–ì–µ–Ω–∏–∞–ª—å–Ω—ã–µ –∏–¥–µ–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ –∫–ª–∏–∫–∞.',
                '–ö–ª–∏–∫–∞–π—Ç–µ, —á—Ç–æ–±—ã –æ—Å–≤–µ—Ç–∏—Ç—å –Ω–æ–≤—ã–µ –ø—É—Ç–∏ –≤ –¥–∏–∑–∞–π–Ω–µ –∏ –∑–∞—Ä–∞–±–æ—Ç–∫–µ.',
                '–ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç –ª–∏–¥–µ—Ä–∞ –æ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è.',
                '–ö–∞–∂–¥—ã–π –∫–ª–∏–∫ ‚Äî —ç—Ç–æ –Ω–æ–≤–∞—è –∏—Å–∫—Ä–∞ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è.',
                '–ù–µ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–∞–π—Ç–µ, –∫–ª–∏–∫–∞–π—Ç–µ —Å —Ü–µ–ª—å—é ‚Äî –∏—â–∏—Ç–µ –∏–¥–µ–∏!'
            ]},
            { icon: 'üìà', phrases: [ // –ò–∫–æ–Ω–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è —Ä–æ—Å—Ç–∞
                '–í–∞—à –¥–æ—Ö–æ–¥ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –∫–ª–∏–∫–æ–º. –í–∏–∂—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª!',
                '–ö–ª–∏–∫–∞–π—Ç–µ –Ω–∞ –ø—É—Ç–∏ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å–≤–æ–±–æ–¥–µ.',
                '–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å.',
                '–°—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ —Ä–æ—Å—Ç—É, –∫–∞–∫ –≤ –¥–∏–∑–∞–π–Ω–µ, —Ç–∞–∫ –∏ –≤ –∑–∞—Ä–∞–±–æ—Ç–∫–µ.',
                '–í–∞—à –∫–ª–∏–∫ ‚Äî —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –≤–∞—à–µ –±—É–¥—É—â–µ–µ.'
            ]},
            { icon: 'üèÜ', phrases: [ // –ò–∫–æ–Ω–∫–∞ –∫—É–±–∫–∞ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
                '–ö–∞–∂–¥—ã–π –∫–ª–∏–∫ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –≤–∞—Å –∫ –ø–æ–±–µ–¥–µ –≤ –º–∏—Ä–µ –¥–∏–∑–∞–π–Ω–∞.',
                '–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Ç—Ä–æ—Ñ–µ–∏ –∫–ª–∏–∫–∞–º–∏!',
                '–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É–ø–æ—Ä–Ω–æ–≥–æ —Ç—Ä—É–¥–∞ –∏ –≤–µ—Ä—ã –≤ —Å–µ–±—è.',
                '–í—ã –¥–æ—Å—Ç–æ–π–Ω—ã –≤—Å–µ—Ö –Ω–∞–≥—Ä–∞–¥ –∑–∞ –≤–∞—à —Ç—Ä—É–¥.',
                '–ü–æ–±–µ–∂–¥–∞–π—Ç–µ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –≤ –∫–∞–∂–¥–æ–º –∫–ª–∏–∫–µ.'
            ]},
            { icon: 'üíª', phrases: [ // –ò–∫–æ–Ω–∫–∞ –Ω–æ—É—Ç–±—É–∫–∞ –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞
                '–í–∞—à —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ö–æ–ª—Å—Ç –∂–¥–µ—Ç –≤–∞—à–∏—Ö –∫–ª–∏–∫–æ–≤!',
                '–ö–ª–∏–∫–∞–π—Ç–µ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π UI/UX.',
                '–í–µ–∫ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ ‚Äî —ç—Ç–æ –≤–∞—à –∑–æ–ª–æ—Ç–æ–π –≤–µ–∫.',
                '–í–∞—à–∏ –Ω–∞–≤—ã–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –ø—Ä–∏–Ω–æ—Å—è—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏.',
                '–û—Å–≤–∞–∏–≤–∞–π—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–ª–∏–∫–∞–π—Ç–µ —É–≤–µ—Ä–µ–Ω–Ω–æ.'
            ]}
        ];

        const achievedRewards = new Set();
        let notificationTimeoutId = null;

        let lastPersonalityShowTime = 0;
        const PERSONALITY_MIN_DELAY = 10000;
        const PERSONALITY_APPEAR_CHANCE = 0.075;

        const BONUS_CHANCE = 0.03;
        const BASE_BONUS_CLICKS = 10;
        const MAX_ADDITIONAL_BONUS_CLICKS = 50;
        
        const EXP_BASE_FOR_SCORE_BONUS = 1.002;
        const EXP_POWER_DIVISOR_FOR_SCORE_BONUS = 50;

        let startY = 0; 
        let isSwiping = false; 
        let currentMenuState = 'closed';

        // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π —Ñ–æ—Ä–º—ã –∫–Ω–æ–ø–∫–∏
        let currentButtonShape = 'circle';
        // –í–æ–∑–º–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã –∫–Ω–æ–ø–∫–∏
        const buttonShapes = ['circle', 'square', 'triangle'];

        const notificationContent = document.createElement('div');
        notificationContent.classList.add('notification-content');
        notificationToast.appendChild(notificationContent);

        // --- –§—É–Ω–∫—Ü–∏–∏ –º–µ–Ω—é ---
        function updateAchievementsDisplay() {
            achievementDisplay.innerHTML = ''; 
            
            const earnedAchievements = rewards.filter(reward => achievedRewards.has(reward.threshold));

            const achievementsHeader = document.createElement('h3');
            achievementsHeader.textContent = '–í–∞—à–∏ –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ –¥–æ—Ö–æ–¥—ã:';
            achievementDisplay.appendChild(achievementsHeader);

            if (earnedAchievements.length === 0) {
                const noAchievementsText = document.createElement('p');
                noAchievementsText.classList.add('no-achievements');
                noAchievementsText.textContent = '–ü–æ–∫–∞ –Ω–µ—Ç –∑–Ω–∞—á–∏–º—ã—Ö –¥–æ—Ö–æ–¥–æ–≤. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ!';
                achievementDisplay.appendChild(noAchievementsText);
            } else {
                earnedAchievements.forEach(reward => {
                    const achievementItem = document.createElement('div');
                    achievementItem.classList.add('achievement-item');

                    const achievementIcon = document.createElement('div');
                    achievementIcon.classList.add('achievement-icon');
                    achievementIcon.textContent = 'üí∞';

                    const achievementText = document.createElement('p');
                    achievementText.classList.add('achievement-text');
                    achievementText.textContent = reward.message;

                    achievementItem.appendChild(achievementIcon);
                    achievementItem.appendChild(achievementText);
                    achievementDisplay.appendChild(achievementItem);
                });
            }
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–∞–∫—Å–æ–º –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–µ–Ω—é ---
        function updateMenuParallax(openRatio) {
            openRatio = Math.min(1, Math.max(0, openRatio));

            const menuTransformY = 100 - openRatio * 100;
            sideMenu.style.transform = `translateY(${menuTransformY}%)`;

            gameContentWrapper.style.transform = `translateY(${-5 * openRatio}vh) scale(${1 - 0.1 * openRatio})`;
            gameContentWrapper.style.opacity = `${1 - 0.3 * openRatio}`;
            gameContentWrapper.style.filter = `blur(${2 * openRatio}px)`;
            gameContentWrapper.style.borderRadius = `${20 * openRatio}px`;
            gameContentWrapper.style.boxShadow = `0 ${5 * openRatio}px ${20 * openRatio}px rgba(0, 0, 0, ${0.2 * openRatio})`;
        }

        function updateSwipeUpHintState() {
            const shouldDisplay = achievedRewards.size >= 2 && 
                                  currentMenuState === 'closed' && 
                                  !personalityMotivation.classList.contains('show');

            if (shouldDisplay) {
                if (swipeUpHint.classList.contains('hidden')) {
                    swipeUpHint.classList.remove('hidden'); 
                    setTimeout(() => {
                        swipeUpHint.classList.add('show'); 
                    }, 50); 
                } else if (!swipeUpHint.classList.contains('show')) {
                    swipeUpHint.classList.add('show');
                }
            } else {
                if (swipeUpHint.classList.contains('show')) {
                    swipeUpHint.classList.remove('show');
                    setTimeout(() => {
                        if (!swipeUpHint.classList.contains('show')) {
                             swipeUpHint.classList.add('hidden');
                        }
                    }, 500); 
                } else if (!swipeUpHint.classList.contains('hidden')) {
                    swipeUpHint.classList.add('hidden');
                }
            }
        }

        const handleTouchStart = (e) => {
            if (currentMenuState === 'opening' || currentMenuState === 'closing') return;
            startY = e.touches[0].clientY;
            isSwiping = true;
            sideMenu.style.transition = 'none';
            gameContentWrapper.style.transition = 'none';
        };

        const handleTouchMove = (e) => {
            if (!isSwiping) return;
            e.preventDefault(); 
        };

        const handleTouchEnd = (e) => {
            if (!isSwiping) return;
            isSwiping = false;

            const totalVerticalMovement = startY - e.changedTouches[0].clientY; 
            const swipeThreshold = 5; 
            const activeAreaThreshold = window.innerHeight * 0.70; 

            if ((currentMenuState === 'closed' || currentMenuState === 'closing') && totalVerticalMovement > swipeThreshold) {
                if (startY > activeAreaThreshold) {
                    openMenu(); 
                }
            } else if ((currentMenuState === 'open' || currentMenuState === 'opening') && totalVerticalMovement < -swipeThreshold) {
                closeMenu(); 
            }
        };

        gameContentWrapper.addEventListener('touchstart', handleTouchStart);
        gameContentWrapper.addEventListener('touchmove', handleTouchMove);
        gameContentWrapper.addEventListener('touchend', handleTouchEnd);

        menuHandle.addEventListener('touchstart', handleTouchStart);
        menuHandle.addEventListener('touchmove', handleTouchMove);
        menuHandle.addEventListener('touchend', handleTouchEnd);

        sideMenu.addEventListener('touchstart', handleTouchStart);
        sideMenu.addEventListener('touchmove', handleTouchMove);
        sideMenu.addEventListener('touchend', handleTouchEnd);

        menuHandle.addEventListener('click', () => {
            if (currentMenuState === 'open') {
                closeMenu();
            } else {
                openMenu();
            }
        });

        menuOverlay.addEventListener('click', closeMenu);
        
        // --- –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä—ã ---
        function updateScoreDisplay() {
            scoreDisplay.textContent = `${score} ‚ÇΩ`;
        }

        function showNotification(message) {
            if (notificationTimeoutId) {
                clearTimeout(notificationTimeoutId);
            }

            notificationContent.textContent = message;
            notificationToast.classList.add('show');

            notificationTimeoutId = setTimeout(() => {
                notificationToast.classList.remove('show');
            }, 6000);
        }

        function showPersonality() {
            updateSwipeUpHintState(); 

            if (Date.now() - lastPersonalityShowTime < PERSONALITY_MIN_DELAY) {
                return;
            }

            const randomPersonality = personalities[Math.floor(Math.random() * personalities.length)];
            const randomPhrase = randomPersonality.phrases[Math.floor(Math.random() * randomPersonality.phrases.length)];

            personalityIcon.textContent = randomPersonality.icon;
            personalitySpeechBubble.textContent = randomPhrase;
            personalityMotivation.classList.add('show');
            lastPersonalityShowTime = Date.now();

            setTimeout(() => {
                personalityMotivation.classList.remove('show');
                updateSwipeUpHintState(); 
            }, 5000); 
        }

        function animateIntensity() {
            clickIntensity = Math.max(0, clickIntensity - INTENSITY_DECAY_RATE);

            const buttonScale = 1 + clickIntensity * 0.70;
            clickButton.style.setProperty('--button-scale', buttonScale);

            // –ë–µ–ª—ã–π –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏
            fireEffect.style.backgroundColor = `rgba(255, 255, 255, ${clickIntensity * 0.5})`; // –ú–∞–∫—Å 50% –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
            fireEffect.style.opacity = clickIntensity; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∏–¥–∏–º–æ—Å—Ç–∏

            requestAnimationFrame(animateIntensity);
        }

        // --- –õ–æ–≥–∏–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ–∏–≥—É—Ä ---
        let activeShapes = [];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ö–æ–ª—Å—Ç–∞ —Ñ–∏–≥—É—Ä
        function resizeShapesCanvas() {
            shapesCanvas.width = window.innerWidth;
            shapesCanvas.height = window.innerHeight;
        }

        // –ö–ª–∞—Å—Å –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∏–≥—É—Ä
        class Shape {
            constructor(x, y, type, color, size) {
                this.x = x;
                this.y = y;
                this.type = type; // 'circle', 'square', 'triangle'
                this.color = color;
                this.size = size;
                this.alpha = 1;
                this.fadingRate = Math.random() * 0.01 + 0.005; 
                this.rotation = Math.random() * Math.PI * 2;
                this.rotationSpeed = (Math.random() - 0.5) * 0.05; 
                this.vx = (Math.random() - 0.5) * 4; 
                this.vy = (Math.random() - 0.5) * 4; 
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.alpha -= this.fadingRate;
                this.rotation += this.rotationSpeed;
            }

            draw(ctx) {
                ctx.save();
                ctx.globalAlpha = Math.max(0, this.alpha);
                ctx.fillStyle = this.color;
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation);

                if (this.type === 'circle') {
                    ctx.beginPath();
                    ctx.arc(0, 0, this.size / 2, 0, Math.PI * 2);
                    ctx.fill();
                } else if (this.type === 'square') {
                    ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size);
                } else if (this.type === 'triangle') { 
                    ctx.beginPath();
                    ctx.moveTo(0, -this.size / 2);
                    ctx.lineTo(this.size / 2, this.size / 2);
                    ctx.lineTo(-this.size / 2, this.size / 2);
                    ctx.closePath();
                    ctx.fill();
                }
                ctx.restore();
            }
        }

        // –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∏–º–∞—Ü–∏–∏ —Ñ–∏–≥—É—Ä
        function animateShapes() {
            shapesCtx.clearRect(0, 0, shapesCanvas.width, shapesCanvas.height); 

            activeShapes.forEach(shape => shape.update());
            activeShapes.forEach(shape => shape.draw(shapesCtx));

            activeShapes = activeShapes.filter(shape => shape.alpha > 0);

            requestAnimationFrame(animateShapes);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ñ–∏–≥—É—Ä (—Ç–µ–ø–µ—Ä—å —á–µ—Ä–Ω–æ-–±–µ–ª—ã—Ö)
        function triggerShapes() {
            const shapeTypes = ['circle', 'square', 'triangle'];
            const colors = ['#000000', '#FFFFFF']; // –ß–µ—Ä–Ω—ã–π –∏ –±–µ–ª—ã–π —Ü–≤–µ—Ç–∞
            
            for (let i = 0; i < 15; i++) { 
                const randomX = Math.random() * shapesCanvas.width;
                const randomY = Math.random() * shapesCanvas.height;
                const randomType = shapeTypes[Math.floor(Math.random() * shapeTypes.length)];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                const randomSize = Math.random() * 20 + 10; 

                activeShapes.push(new Shape(randomX, randomY, randomType, randomColor, randomSize));
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –∫–Ω–æ–ø–∫–∏
        function changeButtonShape() {
            // –í—ã–±–∏—Ä–∞–µ–º –Ω–æ–≤—É—é —Ñ–æ—Ä–º—É, –∏—Å–∫–ª—é—á–∞—è —Ç–µ–∫—É—â—É—é
            let newShape;
            do {
                newShape = buttonShapes[Math.floor(Math.random() * buttonShapes.length)];
            } while (newShape === currentButtonShape);

            currentButtonShape = newShape;

            // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π border-radius
            if (currentButtonShape === 'circle') {
                clickButton.style.borderRadius = '9999px';
            } else if (currentButtonShape === 'square') {
                clickButton.style.borderRadius = '0px'; // –î–ª—è –∫–≤–∞–¥—Ä–∞—Ç–∞
            } else if (currentButtonShape === 'triangle') {
                // –î–ª—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º clip-path, –∞ border-radius —É–±–∏—Ä–∞–µ–º
                clickButton.style.borderRadius = '0px';
                clickButton.style.clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)';
            } else {
                clickButton.style.borderRadius = '9999px'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫—Ä—É–≥
                clickButton.style.clipPath = 'none';
            }

            // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ clipPath —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –Ω–µ-—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤
            if (currentButtonShape !== 'triangle') {
                clickButton.style.clipPath = 'none';
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–Ω–æ–ø–∫–µ –∏–≥—Ä—ã
        clickButton.addEventListener('click', () => {
            score++; 
            updateScoreDisplay();

            clickIntensity = Math.min(MAX_INTENSITY, clickIntensity + INTENSITY_INCREASE_PER_CLICK);

            if (Math.random() < BONUS_CHANCE) {
                const scoreBonus = Math.round(Math.pow(EXP_BASE_FOR_SCORE_BONUS, Math.max(1, score) / EXP_POWER_DIVISOR_FOR_SCORE_BONUS));
                const bonusClicks = BASE_BONUS_CLICKS + Math.round(clickIntensity * MAX_ADDITIONAL_BONUS_CLICKS) + scoreBonus;

                score += bonusClicks;
                updateScoreDisplay();

                const bonusVisual = document.createElement('div');
                bonusVisual.classList.add('bonus-visual');
                bonusVisual.textContent = `–ë–û–ù–£–° +${bonusClicks} ‚ÇΩ`; 

                const randomRotation = Math.random() * 180 - 90;
                bonusVisual.style.setProperty('--random-rotation', `${randomRotation}deg`);

                const buttonRect = clickButton.getBoundingClientRect();
                const gameWrapperRect = gameContentWrapper.getBoundingClientRect();

                const bonusVisualHeight = 50;
                const posX = buttonRect.left + (buttonRect.width / 2) - gameWrapperRect.left;
                const posY = buttonRect.top - gameWrapperRect.top - bonusVisualHeight / 2 - 20;

                bonusVisual.style.left = `${posX}px`;
                bonusVisual.style.top = `${posY}px`;
                
                gameContentWrapper.appendChild(bonusVisual);

                setTimeout(() => {
                    bonusVisual.remove();
                }, 5000);
            }

            rewards.forEach(reward => {
                if (score >= reward.threshold && !achievedRewards.has(reward.threshold)) {
                    showNotification(reward.message);
                    achievedRewards.add(reward.threshold);
                    triggerShapes(); // –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∏–≥—É—Ä—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    changeButtonShape(); // –ú–µ–Ω—è–µ–º —Ñ–æ—Ä–º—É –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    updateSwipeUpHintState(); 
                }
            });

            if (Math.random() < PERSONALITY_APPEAR_CHANCE) {
                showPersonality(); 
            }
        });

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é
        function openMenu() {
            if (currentMenuState === 'open' || currentMenuState === 'opening') return;
            currentMenuState = 'opening';
            html.classList.add('menu-open');
            
            updateSwipeUpHintState(); 
            
            sideMenu.style.transition = 'transform 0.5s ease-out';
            gameContentWrapper.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out, filter 0.5s ease-out, border-radius 0.5s ease-out, box-shadow 0.5s ease-out';
            
            updateMenuParallax(1); 
            updateAchievementsDisplay();

            setTimeout(() => {
                currentMenuState = 'open';
                sideMenu.style.transition = 'none';
                gameContentWrapper.style.transition = 'none';
            }, 500);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é
        function closeMenu() {
            if (currentMenuState === 'closed' || currentMenuState === 'closing') return;
            currentMenuState = 'closing';
            html.classList.remove('menu-open');
            
            sideMenu.style.transition = 'transform 0.5s ease-out';
            gameContentWrapper.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-out, filter 0.5s ease-out, border-radius 0.5s ease-out, box-shadow 0.5s ease-out';

            updateMenuParallax(0); 
            
            setTimeout(() => {
                currentMenuState = 'closed';
                sideMenu.style.transition = 'none';
                gameContentWrapper.style.transition = 'none';
                updateSwipeUpHintState(); 
            }, 500);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            resizeShapesCanvas(); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ö–æ–ª—Å—Ç–∞ —Ñ–∏–≥—É—Ä
            updateScoreDisplay();
            animateIntensity();
            animateShapes(); // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —Ñ–∏–≥—É—Ä
            updateMenuParallax(0); 
            updateSwipeUpHintState(); 
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é —Ñ–æ—Ä–º—É –∫–Ω–æ–ø–∫–∏
            clickButton.style.borderRadius = '9999px'; 
            clickButton.style.clipPath = 'none';
        });

        // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–∏–≥—É—Ä
        window.addEventListener('resize', resizeShapesCanvas);
    </script>
</body>
</html>
